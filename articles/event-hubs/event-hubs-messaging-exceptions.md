<properties 
    pageTitle="Hubs evento mensajería excepciones | Microsoft Azure"
    description="Lista de Azure evento Hubs mensajería excepciones y las acciones sugeridas."
    services="event-hubs"
    documentationCenter="na"
    authors="sethmanheim"
    manager="timlt"
    editor="" />
<tags 
    ms.service="event-hubs"
    ms.devlang="na"
    ms.topic="article"
    ms.tgt_pltfrm="na"
    ms.workload="na"
    ms.date="10/14/2016"
    ms.author="sethm" />

# <a name="event-hubs-messaging-exceptions"></a>Hubs evento mensajería excepciones

Este artículo enumeran algunas excepciones generadas por el Bus de servicio de Azure mensajería API. Este conjunto de API incluye Hubs de evento. Esta referencia está sujeto a cambios, así que compruebe si hay actualizaciones.

## <a name="exception-categories"></a>Categorías de excepción

Las API de mensajería generan las excepciones que pueden se dividen en las siguientes categorías, junto con la acción asociada que puede realizar para solucionarlos. Tenga en cuenta que los efectos y las causas de una excepción pueden variar según el tipo de entidad de mensajería (transmisiones, colas, temas y eventos Hubs):

1.  Usuarios de código de error ([System.ArgumentException](https://msdn.microsoft.com/library/system.argumentexception.aspx), [System.InvalidOperationException](https://msdn.microsoft.com/library/system.invalidoperationexception.aspx), [System.OperationCanceledException](https://msdn.microsoft.com/library/system.operationcanceledexception.aspx), [System.Runtime.Serialization.SerializationException](https://msdn.microsoft.com/library/system.runtime.serialization.serializationexception.aspx)). Acción general: probar para solucionar el código antes de continuar.

2.  Error de instalación y configuración ([Microsoft.ServiceBus.Messaging.MessagingEntityNotFoundException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingentitynotfoundexception.aspx), [System.UnauthorizedAccessException](https://msdn.microsoft.com/library/system.unauthorizedaccessexception.aspx). Acción general: revisar la configuración y cambiar si es necesario.

3.  Excepciones transitorias ([Microsoft.ServiceBus.Messaging.MessagingException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingexception.aspx), [Microsoft.ServiceBus.Messaging.ServerBusyException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.serverbusyexception.aspx), [Microsoft.ServiceBus.Messaging.MessagingCommunicationException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingcommunicationexception.aspx)). Acción general: vuelva a intentar la operación o notificar a los usuarios.

4.  Otras excepciones ([System.Transactions.TransactionException](https://msdn.microsoft.com/library/system.transactions.transactionexception.aspx), [System.TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx), [Microsoft.ServiceBus.Messaging.MessageLockLostException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagelocklostexception.aspx), [Microsoft.ServiceBus.Messaging.SessionLockLostException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.sessionlocklostexception.aspx)). Acción general: específica del tipo de excepción; Consulte la tabla en la sección siguiente. 

## <a name="exception-types"></a>Tipos de excepción

En la siguiente tabla enumera los tipos de excepción mensajería y sus causas y acción sugerida de notas que puede realizar.

| **Tipo de excepción**                                                                                                                                                                                                                                                                                | **Causa de descripción y ejemplos**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | **Acción sugerida**                                                                                                                                                                                                                                                                                                                                                                                                          | **Tenga en cuenta en automático o reintentos**                                                                                             |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------|
| [TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx)                                                                                                                                                                                                           | El servidor no respondió a la operación dentro de la hora especificada, que está controlada por [OperationTimeout](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingfactorysettings.operationtimeout.aspx). Puede que el servidor haya completado la operación. Esto puede ocurrir debido a la red o en otros retrasos de infraestructura.                                                                                                                                                                                                                                                                   | Comprobar el estado del sistema para mantener la coherencia y vuelva a intentar si es necesario.                                                                                                                                                                                                                                                                                                                                                            | Reintentar podrían ser de ayuda en algunos casos; agregar lógica de reintento al código.                                                                      |
| [InvalidOperationException](https://msdn.microsoft.com/library/system.invalidoperationexception.aspx)                                                                                                                                                                                         | No se permite la operación de usuario solicitado dentro del servidor o el servicio. Vea el mensaje de excepción para obtener información detallada. Por ejemplo, [completado](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.brokeredmessage.complete.aspx) genera esta excepción si ha recibido el mensaje en el modo de **ReceiveAndDelete** .                                                                                                                                                                                                                                                                                                     | Compruebe el código y la documentación. Asegúrese de que la operación solicitada es válida.                                                                                                                                                                                                                                                                                                                                         | Reintentar no le ayudará a.                                                                                                          |
| [OperationCanceledException](https://msdn.microsoft.com/library/system.operationcanceledexception.aspx)                                                                                                                                                                                       | Intenta llamar a una operación en un objeto que ya se ha cerrado, anulado o eliminado. En algunas ocasiones, ya se elimina la transacción de ambiente.                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | Compruebe el código y asegúrese de que no invoca operaciones en un objeto eliminado.                                                                                                                                                                                                                                                                                                                                          | Reintentar no le ayudará a.                                                                                                          |
| [UnauthorizedAccessException](https://msdn.microsoft.com/library/system.unauthorizedaccessexception.aspx)                                                                                                                                                                                     | El objeto [TokenProvider](https://msdn.microsoft.com/library/azure/microsoft.servicebus.tokenprovider.aspx) no puede adquirir un símbolo, el token no es válido o el token no contiene las notificaciones necesarias para ejecutar la operación.                                                                                                                                                                                                                                                                                                                                                                                                  | Asegúrese de que el proveedor de tokens se crea con los valores correctos. Compruebe la configuración del servicio de Control de acceso.                                                                                                                                                                                                                                                                                                   | Reintentar podrían ser de ayuda en algunos casos; agregar lógica de reintento al código.                                                                      |
| [ArgumentException](https://msdn.microsoft.com/library/system.argumentexception.aspx)<br /> [ArgumentNullException](https://msdn.microsoft.com/library/system.argumentnullexception.aspx)<br />[ArgumentOutOfRangeException](https://msdn.microsoft.com/library/system.argumentoutofrangeexception.aspx) | Uno o varios de los argumentos proporcionados al método no son válidos. El URI proporcionado a [NamespaceManager](https://msdn.microsoft.com/library/azure/microsoft.servicebus.namespacemanager.aspx) o [crear](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingfactory.create.aspx) contiene los segmentos de ruta de acceso. El esquema URI proporcionado a [NamespaceManager](https://msdn.microsoft.com/library/azure/microsoft.servicebus.namespacemanager.aspx) o [crear](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingfactory.create.aspx) no es válido. El valor de la propiedad es mayor que 32KB. | Compruebe el código de llamada y asegúrese de que los argumentos son correctos.                                                                                                                                                                                                                                                                                                                                                           | Reintentar no le ayudará a.                                                                                                          |
| [MessagingEntityNotFoundException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingentitynotfoundexception.aspx)                                                                                                                                             | Entidad asociada con la operación no existe o se ha eliminado.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Asegúrese de que la entidad existe.                                                                                                                                                                                                                                                                                                                                                                                              | Reintentar no le ayudará a.                                                                                                          |
| [MessageNotFoundException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagenotfoundexception.aspx)                                                                                                                                                             | Intentar recibir un mensaje con un número determinado de secuencia. Este mensaje no se encuentra.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Asegúrese de que ya no se ha recibido el mensaje. Compruebe la cola con problemas de entrega para ver si el mensaje se ha deadlettered.                                                                                                                                                                                                                                                                                              | Reintentar no le ayudará a.                                                                                                          |
| [MessagingCommunicationException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingcommunicationexception.aspx)                                                                                                                                               | Cliente no es capaz de establecer una conexión a concentrador de evento.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Asegúrese de que el nombre de host proporcionado es correcto y que el host está accesible.                                                                                                                                                                                                                                                                                                                                                    | Reintentar puede ser útil si hay problemas de conectividad intermitente.                                                               |
| [ServerBusyException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.serverbusyexception.aspx)                                                                                                                                                                       | Servicio no está disponible procesar la solicitud en este momento.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Cliente puede esperar durante un período de tiempo y luego vuelva a intentar la operación.                                                                                                                                                                                                                                                                                                                                                           | Cliente puede reintentar después intervalo determinado. Si un reintento da como resultado una excepción diferente, compruebe el comportamiento de intentos de esa excepción. |
| [MessageLockLostException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagelocklostexception.aspx)                                                                                                                                                             | Token de bloqueo asociado con el mensaje se ha expirado o no se encuentra el token de bloqueo.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Eliminar el mensaje.                                                                                                                                                                                                                                                                                                                                                                                                      | Reintentar no le ayudará a.                                                                                                          |
| [SessionLockLostException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.sessionlocklostexception.aspx)                                                                                                                                                             | Se perderá el bloqueo asociado con esta sesión.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Anular el objeto [MessageSession](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagesession.aspx) .                                                                                                                                                                                                                                                                                           | Reintentar no le ayudará a.                                                                                                          |
| [MessagingException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingexception.aspx)                                                                                                                                                                         | Genérico mensajería excepción que puede producirse en los siguientes casos: intentado crear un [QueueClient](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.queueclient.aspx) con un nombre o la ruta de acceso que pertenece a un tipo de entidad diferente (por ejemplo, un tema). Intenta enviar un mensaje mayor que 256KB. El servidor o servicio detectó un error durante el procesamiento de la solicitud. Vea el mensaje de excepción para obtener información detallada. Suele ser una excepción temporal.                                                                                                               | Compruebe el código y asegurarse de que solo los objetos serializables se utilizan para el cuerpo del mensaje (o utilice un serializador personalizado). Consulte la documentación de los tipos de valor compatibles de las propiedades y solo los tipos de uso compatible. Compruebe la propiedad [IsTransient](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingexception.istransient.aspx) . Si es **true**, puede volver a intentar la operación. | Comportamiento de reintento está definido y no puede ser útil.                                                                               |
| [MessagingEntityAlreadyExistsException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingentityalreadyexistsexception.aspx)                                                                                                                                   | Intente crear una entidad con un nombre que ya está utilizando otra entidad de ese espacio de nombres de servicio.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Elimine la entidad existente o elija un nombre diferente para la entidad que debe crearse.                                                                                                                                                                                                                                                                                                                                       | Reintentar no le ayudará a.                                                                                                          |
| [QuotaExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.quotaexceededexception.aspx)                                                                                                                                                                 | La entidad mensajería alcanzó su tamaño máximo permitido. Esto puede suceder si ya ha abierto el número máximo de receptores (que es la fila 5) en un nivel de grupo por consumidor.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Recibir mensajes de la entidad o sus subcarpetas colas para crear espacio en la entidad.                                                                                                                                                                                                                                                                                                                                       | Reintentar puede ser útil si se han eliminado mientras tanto mensajes.                                                           
|
| [SessionCannotBeLockedException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.sessioncannotbelockedexception.aspx)                                                                                                                                                 | Intento de aceptar una sesión con un identificador de sesión específico, pero la sesión está bloqueada por otro cliente.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Asegúrese de que otros clientes de desbloquea la sesión.                                                                                                                                                                                                                                                                                                                                                                       | Reintentar puede ser útil si se ha publicado la sesión en la versión preliminar.                                                             |
| [TransactionSizeExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.transactionsizeexceededexception_methods.aspx)                                                                                                                                     | Demasiadas operaciones forman parte de la transacción.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Reduzca el número de operaciones que forman parte de esta operación.                                                                                                                                                                                                                                                                                                                                                        | Reintentar no le ayudará a.                                                                                                          |
| [MessagingEntityDisabledException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingentitydisabledexception.aspx)                                                                                                                                             | Solicitud para una operación de tiempo de ejecución de una entidad deshabilitada.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Activar la entidad.                                                                                                                                                                                                                                                                                                                                                                                                      | Reintentar puede ser útil si se ha activado la entidad provisional.                                                             |
| [MessageSizeExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagesizeexceededexception.aspx)                                                                                                                                                     | Carga del mensaje supera el límite de 256K. Observe que el límite de 256 k es el tamaño total del mensaje, que puede incluir cualquier sobrecarga de .NET y de propiedades del sistema.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Reducir el tamaño de la carga del mensaje y luego vuelva a intentar la operación.                                                                                                                                                                                                                                                                                                                                                         | Reintentar no le ayudará a.                                                                                                          |
| [Excepción TransactionException](https://msdn.microsoft.com/library/system.transactions.transactionexception.aspx)                                                                                                                                                                                      | La transacción de ambiente (*Transaction.Current*) no es válida. Se haya completado o anulado. Excepción interna puede proporcionar información adicional.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                           | Reintentar no le ayudará a.                                                                                                          | -
| [TransactionInDoubtException](https://msdn.microsoft.com/library/system.transactions.transactionindoubtexception.aspx)                                                                                                                                                                        | Se intentó realizar una operación en una transacción que está en caso de duda, o se intenta confirmar la transacción y se convierte en la transacción en caso de duda.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | La aplicación debe controlar esta excepción (como un caso especial), como la transacción que ya se han confirmado.                                                                                                                                                                                                                                                                                                      | -                                                                                                                              |

## <a name="quotaexceededexception"></a>QuotaExceededException

[QuotaExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.quotaexceededexception.aspx) indica que se ha superado una cuota para una entidad específica.

Esto puede suceder si ya ha abierto el número máximo de receptores (5) en un nivel de grupo por consumidor.

### <a name="event-hubs"></a>Evento Hubs

Evento Hubs tiene un límite de 20 grupos de consumidores por concentrador de evento. Cuando intenta crear más, recibirá una [QuotaExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.quotaexceededexception.aspx). 

## <a name="timeoutexception"></a>TimeoutException 

[TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx) indica que una operación iniciada por el usuario está llevando más larga que el tiempo de espera de la operación. 

### <a name="event-hubs"></a>Evento Hubs

Para Hubs de evento, el tiempo de espera se especifica como parte de la cadena de conexión o a través de [ServiceBusConnectionStringBuilder](https://msdn.microsoft.com/library/azure/microsoft.servicebus.servicebusconnectionstringbuilder.aspx). El mensaje de error puede variar, pero siempre contiene el valor de tiempo de espera especificado para la operación actual. 

### <a name="common-causes"></a>Causas comunes

Hay dos causas comunes de este error: configuración incorrecta o un error de servicio transitorias.

1. **Configuración incorrecta** 
    el tiempo de espera de la operación podría ser demasiado pequeño para la condición operativa. El valor predeterminado para el tiempo de espera de la operación en el SDK de cliente es 60 segundos. Compruebe si su código tiene el valor establecido en algo demasiado pequeño. Tenga en cuenta que la condición de la red y el uso de CPU puede afectar al tiempo que se tarda de una determinada operación completar, por lo que no se debe establecer el tiempo de espera de la operación en un valor muy pequeño.

2. **Error de servicio transitorias** 
    a veces el servicio de evento Hubs puede sufrir retrasos en el procesamiento de las solicitudes; Por ejemplo, durante los períodos de tráfico alto. En estos casos, puede volver a intentar la operación después de un retraso hasta que la operación es correcta. Si aún no la misma operación después de varios intentos, visite el [sitio de estado del servicio de Azure](https://azure.microsoft.com/status/) para ver si hay interrupciones del servicio conocido.

## <a name="next-steps"></a>Pasos siguientes

Para la referencia de Bus de servicio y eventos Hubs .NET API completa, vea la [referencia de Azure en MSDN](https://msdn.microsoft.com/library/azure/mt419900.aspx).
