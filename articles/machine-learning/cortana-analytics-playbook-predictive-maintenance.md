<properties
    pageTitle="Guía de plantilla de solución de inteligencia de Cortana para mantenimiento predictivo en aeroespaciales y de otras empresas | Microsoft Azure"
    description="Una plantilla de solución con Microsoft Cortana inteligencia predictiva mantenimiento de aeroespacial, utilidades y transporte."
    services="cortana-analytics"
    documentationCenter=""
    authors="fboylu"
    manager="jhubbard"
    editor="cgronlun"/>

<tags
    ms.service="cortana-analytics"
    ms.workload="data-services"
    ms.tgt_pltfrm="na"
    ms.devlang="na"
    ms.topic="article"
    ms.date="09/12/2016"
    ms.author="fboylu" />

# <a name="cortana-intelligence-solution-template-playbook-for-predictive-maintenance-in-aerospace-and-other-businesses"></a>Guía de plantilla de solución de inteligencia de Cortana para mantenimiento predictivo en aeroespaciales y de otras empresas

## <a name="executive-summary"></a>Resumen ejecutivo  
Mantenimiento predictivo es una de las aplicaciones más solicitadas de análisis predictiva con unarguable beneficios, que incluyen una gran cantidad de ahorro. Esta guía pretende proporcionar una referencia para soluciones de mantenimiento predictiva con las marcas de énfasis en casos de uso principales.
Está preparado para dar al lector de una descripción de los escenarios empresariales más comunes de mantenimiento predictivo, retos de calificar problemas empresariales para estas soluciones, los datos necesarios para resolver estos problemas empresariales, predictivos técnicas para crear soluciones con este tipo de datos de modelado y mejores prácticas con arquitecturas de solución de ejemplo.
También se describen las características de los modelos de predictivas desarrollados como ingeniería de la característica, modelo de evaluación de desarrollo y rendimiento. Básicamente, esta guía combina la empresa y analítica instrucciones necesarias para una implementación de soluciones de mantenimiento predictiva y desarrollo correcto. Estas directrices están preparadas para ayudar a la audiencia se crea una solución inicial con conjunto de aplicaciones de inteligencia de Cortana y específicamente Azure aprendizaje como punto de partida en su estrategia de mantenimiento predictiva a largo plazo. La documentación relacionada con el conjunto de aplicaciones de inteligencia de Cortana y aprendizaje del equipo de Azure puede encontrarse en las páginas de [Análisis de Cortana](http://www.microsoft.com/server-cloud/cortana-analytics-suite/overview.aspx) y [Aprendizaje del equipo de Azure](https://azure.microsoft.com/services/machine-learning/) .

>[AZURE.TIP]
Para obtener una guía técnica para implementar esta plantilla de solución, consulte [Guía técnica de la plantilla de solución de inteligencia de Cortana para mantenimiento predictivo](cortana-analytics-technical-guide-predictive-maintenance.md).
Para descargar un diagrama que proporciona una introducción a la arquitectura de esta plantilla, consulte [arquitectura de la plantilla de solución de inteligencia de Cortana para mantenimiento predictivo](cortana-analytics-architecture-predictive-maintenance.md).

## <a name="playbook-overview-and-target-audience"></a>Audiencia Guía de introducción y de destino  
Esta guía está organizada para beneficiarse técnica y audiencia con distintos fondos e intereses en el espacio de mantenimiento predictiva. La guía cubre ambos aspectos de alto nivel de los diferentes tipos de soluciones de mantenimiento predictiva y detalles de cómo hacerlo. El contenido está equilibrado para satisfacer ambos a la audiencia que sólo está interesado en información sobre el espacio de solución y el tipo de aplicaciones, así como aquellos que buscan para implementar estas soluciones y, por tanto, está interesado en los detalles técnicos.

La mayoría del contenido de esta guía no asume conocimiento de ciencias de datos anteriores o experiencia. Sin embargo, algunas partes de la guía necesitarán algo estar familiarizado con los conceptos de ciencias de datos para poder seguir los detalles de la implementación. Habilidades de ciencias de introducción de datos son necesarios para beneficiarse plenamente el material en esas secciones.

La primera mitad de la cubierta de libro de estrategias una introducción a las aplicaciones de mantenimiento predictiva, cómo calificar un mantenimiento predictiva solución, un conjunto común de casos de uso con los detalles del problema empresarial, los datos que rodean estos utilizan casos y las ventajas empresariales de implementación de estas soluciones de mantenimiento predictiva. Estas secciones no necesitan cualquier información técnica en el dominio de analítica predictiva.

En la segunda mitad de la guía, trataremos los tipos de técnicas de modelado predictiva para aplicaciones de mantenimiento predictiva y cómo implementar estos modelos ejemplos de los casos de uso descritos en la primera mitad de la guía. Esto se ilustra yendo a través de los pasos de preprocesamiento de datos como característica de ingeniería y etiquetas de datos del modelo de selección, formación y pruebas y rendimiento prácticas recomendadas de evaluación. Estas secciones son adecuadas para una audiencia técnica.


## <a name="predictive-maintenance-in-iot"></a>Mantenimiento predictivo en IoT
El impacto del tiempo de inactividad no programada puede ser muy destructivo para empresas. Es fundamental para mantener el equipo de campo funciona para maximizar la utilización y rendimiento y minimizando costosas, no programada el tiempo de inactividad. Simplemente, no es asequible de escena de operaciones de negocio de hoy esperar el error que se produzca. Para seguir siendo competitivo, las empresas buscan nuevas formas de maximizar el rendimiento de activos haciendo uso de los datos recopilados de diversos canales. Una forma importante para analizar dicha información es utilizar técnicas analíticas predictivas que utilizar patrones históricos para predecir resultados futuros. Uno de los más populares de estas soluciones se denomina mantenimiento predictiva que generalmente puede ser definido como pero no se limita a las predicciones posibilidad de un error de un activo en un futuro próximo para que se pueden supervisar los activos para identificar errores y tomar medidas antes de que se produzcan los errores. Estas soluciones detectan patrones de error para determinar los activos que están en el mayor riesgo de error. Esta identificación anticipada de problemas le ayuda a implementar limitado mantenimiento de los recursos de una forma más eficaz y mejorar la calidad y procesos de la cadena de suministro.

Con el aumento de las aplicaciones de Internet de cosas (IoT) predictivas mantenimiento ha sido obtengan mayor atención en el sector como la recopilación de datos y tecnologías de procesamiento ha madurado suficiente para generar, transmitir, almacenar y analizar todos los tipos de datos en lotes o en tiempo real. Dichas tecnologías permiten fácil desarrollo e implementación de soluciones de llevar a cabo con las soluciones de análisis avanzado, con las soluciones de mantenimiento predictiva posiblemente proporcionar el mayor beneficio.

Problemas de empresa en el intervalo de dominio de mantenimiento predictiva de alto riesgo operativa debido a errores inesperados y limitado una perspectiva de la causa de problemas en entornos empresariales complejos. Para que se encuentren en las siguientes preguntas de empresa se puede dividir la mayoría de estos problemas:

-   ¿Qué es la probabilidad de que un elemento del equipo se produce un error en el futuro?
-   ¿Qué es la vida útil restante del equipo?
-   ¿Cuáles son las causas de errores y qué acciones de mantenimiento se deben realizar para solucionar estos problemas?

Mediante el uso de mantenimiento predictivo para responder a estas preguntas, las empresas pueden:

-   Reducir el riesgo operativa y aumentar la tasa de retorno de los activos en detectar errores antes de que se ha producido
-   Reducir las operaciones de mantenimiento de tiempo innecesarios y controlar los costos de mantenimiento
-   Mejorar la imagen de marca general, eliminar mala publicidad y resultante pérdida de ventas de desgaste de cliente.
-   Reducir los costos de inventario al reducir los niveles de inventario predicción del punto de pedido
-   Descubrir patrones conectados a varios problemas de mantenimiento

Soluciones de mantenimiento predictiva pueden proporcionar empresas con indicadores clave de rendimiento, como la puntuación de estado para supervisar la condición de activo en tiempo real, una estimación de la duración restante de activos, recomendación para actividades de mantenimiento proactiva y fechas de pedido estimado para la sustitución de elementos.

## <a name="qualification-criteria-for-predictive-maintenance"></a>Criterios de calificación de mantenimiento predictivo
Es importante destacar que no todos los casos de uso o mantenimiento predictivo pueden resolver eficaz los problemas empresariales. Importante los criterios de calificación incluyen si el problema es predictivo en naturaleza, que existe un camino claro de acción con el fin de evitar errores cuando se detectan previamente y lo más importante, datos con una calidad suficiente para admitir el uso de mayúsculas y minúsculas están disponibles. A continuación, nos centrarse en los requisitos de datos para crear una solución de mantenimiento predictiva correcto.

Cuando se crean modelos predictivos, usamos datos históricos para entrenar el modelo que puede reconocer patrones ocultos y más identificar estos patrones en los datos en el futuro. Estos modelos están capacitados con ejemplos descritos en el destino de predicción y sus características. El modelo capacitado se espera realizar predicciones en el destino consultando solo las características de los ejemplos nuevos. Es fundamental que el modelo de captura la relación entre las características y el destino de predicción. Para formar una máquina eficaz modelo de aprendizaje, necesitamos datos de aprendizaje que incluye características que realmente tienen power predictiva hacia el destino de la predicción de lo que significa que los datos deben estar relacionados con el objetivo de predicción que va a pasar predicciones precisos.

Por ejemplo, si el destino es predecir errores de ruedas tren, los datos de entrenamiento deben contener características relacionadas con la rueda (por ejemplo, telemetría que refleja el estado de salud de ruedas, el kilometraje, carga coche, etcetera.). Sin embargo, si el destino es predecir tren motor errores, probablemente debemos otro conjunto de datos de aprendizaje que tiene características relacionadas con el motor. Antes de generar modelos de predicción, esperamos que el negocio experto comprender el requisito de relevancia de datos y proporcionar el conocimiento de dominio es necesaria para seleccionar relevantes subconjuntos de datos para el análisis.

Hay tres orígenes de datos esenciales, busque al calificar un problema de empresa adecuados para una solución de mantenimiento predictiva:

1.  Historial de error: Normalmente, predictiva en aplicaciones de mantenimiento, eventos de error son muy poco comunes. Sin embargo, cuando se crean modelos predictivos que predicción errores, el algoritmo de necesita obtener información sobre el modelo de funcionamiento normal, así como el patrón de error a través del proceso de aprendizaje. Por lo tanto, es fundamental que los datos de entrenamiento contienen un número suficiente de ejemplos de ambas categorías con el fin de obtener estos dos patrones diferentes. Por este motivo, es necesario que los datos tienen un número suficiente de eventos de error. Eventos de error se encuentra en registros de mantenimiento e historial de reemplazo de partes o anomalías en los datos de entrenamiento pueden utilizarse también como errores identificado por los expertos de dominio.
2.  Historial de mantenimiento o reparación: Un esencial origen de datos para soluciones de mantenimiento predictiva es el historial de mantenimiento detallada del activo que contiene información acerca de los componentes reemplazados, mantenimiento preventivo activa realizado, etcetera. Es muy importante capturar estos eventos como estos afectan a los patrones de degradación y falta de esta información hace resultados confusos.
3.  Condiciones del equipo: Para predecir cuántos días más (horas, millas, transacciones, etc.) una máquina dura antes de que se produce un error, se supone que disminuye el estado del equipo con el tiempo durante su funcionamiento. Por lo tanto, esperamos que los datos que contienen características de variable de tiempo que capturar este patrón de antigüedad y cualquier anomalía que lleva a la degradación. En aplicaciones de IoT, los datos de telemetría de sensores diferentes representan un buen ejemplo. Para predecir si un equipo se va a un error dentro de un período de tiempo, lo ideal es que los datos deben capturar tendencia degradante durante este período de tiempo antes del evento de error real.

Además, se requieren datos que están directamente relacionados con las condiciones de funcionamiento de los activos de destino de predicción. La decisión de destino se basa en ambas empresas necesidades y disponibilidad de datos. Tomar la predicción de fallos de rueda de tren como ejemplo, nos podemos predecir "si la rueda va a tener un error" o "Si va todo el tren tiene un error". Primero dirige a un componente más específico mientras que el segundo dirige a error del tren. La segunda es una pregunta más general que requiera mucho más dispersos elementos de datos que la primera, lo que dificulta crear un modelo. Por el contrario, intenta predecir errores de rueda simplemente consultando los datos de la condición de alto nivel tren no posible que no contenga información en el nivel de componente. En general, es más razonable predecir eventos de error específico que más generales.

Es una de las preguntas comunes que normalmente es más frecuentes acerca de los datos de historial de error "¿cuántos eventos de error se requieren para formar un modelo y cuántas se consideran como"suficiente"? No hay ninguna respuesta clara a esa pregunta como en muchos escenarios de análisis predictiva, suele ser la calidad de los datos que determina lo que es aceptable. Si el conjunto de datos no incluye características que son relevantes para la predicción de errores, a continuación, incluso si hay muchos de los eventos de error, la creación de un buen modelo no sea posible. Sin embargo, la regla general es que el más los eventos de error es mejor el modelo y una estimación aproximada de cuántos ejemplos de errores se requieren un contexto muy y medida dependen de datos. Este problema se describe en la sección para controlar desequilibradas conjuntos de datos donde se propone métodos lidiar con el problema de no tener suficiente errores.

## <a name="sample-use-cases"></a>Ejemplos de casos de uso
En esta sección se centra en una colección de casos de uso de mantenimiento predictiva de varias industrias como aeroespacial, utilidades y transporte. Cada subsección aumenta de los casos de uso recopilados estas áreas y analiza un problema, los datos que rodean el problema empresarial y las ventajas de una solución de mantenimiento predictiva.

### <a name="aerospace"></a>Aeroespacial
#### <a name="use-case-1-flight-delay-and-cancellations"></a>Caso de uso 1: Retraso de vuelo y cancelaciones
##### <a name="business-problem-and-data-sources"></a>*Empresa problema y orígenes de datos*
Uno de los problemas empresariales principales que cara de líneas aéreas es considerable los costos que están asociados a los vuelos pospuestos debido a problemas mecánicos. Si no se puede reparar los errores mecánicos, incluso se pueden cancelar vuelos. Esto es muy costosa como retrasos crean problemas en la programación y las operaciones, causas mala reputación e insatisfacción del cliente junto con muchos otros problemas. Líneas aéreas son especialmente interesadas en predecir estos errores mecánicos con antelación para que pueden reducir los retrasos de vuelo o cancelaciones. El objetivo de la solución de mantenimiento predictiva para estos casos es predecir la probabilidad de un avión que se retrasa o cancelado, basados en orígenes de datos relevantes como la información de ruta de historial y flight mantenimiento. Dos orígenes de datos principal para este caso de uso son las patas vuelo y los registros de la página. Datos de vuelo PATA incluyen datos sobre los detalles de la ruta de vuelo como la fecha y hora de salida y llegada, salida y aeropuertos de llegada, etcetera. Datos de registro de la página incluyen una serie de códigos de error y mantenimiento registrados por el personal de mantenimiento.

##### <a name="business-value-of-the-predictive-model"></a>*Valor para el negocio del modelo predictivo*
Con los datos históricos disponibles, un modelo de predicción se creó utilizando un algoritmo de clasificación múltiples predecir el tipo de problema mecánico que da como resultado un retraso o cancelación de un vuelo en las próximas 24 horas. Realizando la predicción de este pueden realizarse acciones de mantenimiento necesario para mitigar el riesgo mientras se atendidas un avión y así evitar posibles retrasos o cancelaciones. Usa el servicio web de aprendizaje del equipo de Azure, los modelos de predicción pueden sin problemas y fácilmente integrarse en las plataformas de funcionamiento existentes de líneas aéreas. 

#### <a name="use-case-2-aircraft-component-failure"></a>Caso de uso 2: Error de componente de avión
##### <a name="business-problem-and-data-sources"></a>*Empresa problema y orígenes de datos*
Motores de avión están muy confidenciales y caros partes del equipo y sustituciones de parte de motor están entre las tareas de mantenimiento más comunes de la industria de las aerolíneas. Soluciones de mantenimiento de líneas aéreas requieren cuidado de administración de planificación, entrega y disponibilidad de cotizaciones de componente. Poder recopilar inteligencia en confiabilidad de componente lleva a una reducción considerable en los costos de inversión. El origen de datos principal para este caso de uso es datos de telemetría recopilados de un número de sensores en la información que proporciona avión en la condición del avión. Registros de mantenimiento también se utilizaron para identificar cuándo se ha producido errores del componente y se han realizado sustituciones.

##### <a name="business-value-of-the-predictive-model"></a>Valor para el negocio del modelo predictivo
Se creó un modelo de clasificación de clase múltiples que prevé la probabilidad de un error debido a un determinado componente del mes siguiente. Mediante el uso de estas soluciones, airlines pueden reducir los costes de reparación de componente, mejorar la disponibilidad de cotizaciones de componente, reducir los niveles de inventario de activos relacionados y mejorar la planificación de mantenimiento.

### <a name="utilities"></a>Utilidades
#### <a name="use-case-1-atm-cash-dispense-failure"></a>Caso de uso 1: Error de etiquetas de efectivo ATM
##### <a name="business-problem-and-data-sources"></a>*Empresa problema y orígenes de datos*
Ejecutivos de industrias intensiva de activos a menudo Estados que principal riesgo operativa para su negocio es errores inesperados de sus activos. Por ejemplo, error de maquinaria como ATM en industria bancaria es un problema muy común que se produce con frecuencia. Estos tipos de problemas Asegúrese de soluciones de mantenimiento predictiva muy recomendable operadores de dichas máquinas. En este caso de uso, predicción problema es calcular la probabilidad de que una transacción de retirada de efectivo ATM se interrumpe debido a un error en el distribuidor de efectivo como un atasco de papel o elemento. Orígenes de datos principales de este caso son lecturas de sensor que recopilan medidas mientras se está suprimirse notas de efectivo y también registros de mantenimiento recopilados lo largo del tiempo. Datos de sensor incluyen lecturas de sensor por cada transacción completada y también lecturas de sensor por cada nota suprimirse. Las medidas de sensor lecturas proporcionadas como espacios entre notas, espesor, tenga en cuenta la distancia de llegada etcetera. Códigos de error y la información de reparación, incluyen datos de mantenimiento. Éstos se utilizaron para identificar los casos de error.

##### <a name="business-value-of-the-predictive-model"></a>*Valor para el negocio del modelo predictivo*
Se han creado dos modelos de predicción para predecir errores en las transacciones de retirada de efectivo y en las notas individuales suprimirse durante una transacción. Al poder predecir errores de transacciones con antelación, ATM puede mantenimiento de manera proactiva para evitar errores. Además, con la predicción de fallos de nota, si una transacción es probable que no pueda realizarse antes de completarla debido a una nota renunciar error, puede ser mejor detener el proceso y advertir al cliente para transacción incompleta en lugar de espera para el servicio de mantenimiento en llegar después de que el error produce que pueden producir mayor insatisfacción del cliente.

#### <a name="use-case-2-wind-turbine-failures"></a>2 de caso de uso: Errores de turbina viento
##### <a name="business-problem-and-data-sources"></a>*Empresa problema y orígenes de datos*
Con elevar de concienciación ambiental, turbinas de aire se han convertido en una de las principales fuentes de generación de energía y normalmente cuestan millones de dólares. Uno de los componentes principales de turbinas de aire es el motor de generador que disponga con muchos sensores que ayuda a supervisar el estado y condiciones de turbina. Lecturas de sensor contienen información valiosa que puede utilizarse para crear un modelo de predicción para predecir crítica el indicadores clave de rendimiento (KPI) como tiempo medio de error de los componentes de la turbina. Datos para este caso de uso proceden de varios turbinas de aire que se encuentran en tres ubicaciones diferentes de la granja de servidores. Medidas de cerca cientos sensores de cada turbina registraron cada 10 segundos de un año. Estas lecturas incluyen medidas como la temperatura, velocidad de generador, power turbina y devanado generador.

##### <a name="business-value-of-the-predictive-model"></a>*Valor para el negocio del modelo predictivo*
Modelos de predicción se han creado para estimar la vida útil restante para generadores y sensores de temperatura. Por la predicción de la probabilidad de error, técnicos de mantenimiento pueden centrarse en turbinas sospechosos que probablemente no pronto disposiciones de mantenimiento en vez de complemento.
Además, modelos de predicción traer una visión al nivel de la contribución de varios factores para la probabilidad de un error que le ayuda a comprender mejor la causa de los problemas de las empresas.

#### <a name="use-case-3-circuit-breaker-failures"></a>Caso de uso 3: errores de disyuntor
##### <a name="business-problem-and-data-sources"></a>*Empresa problema y orígenes de datos*
Operaciones de electricidad y gas que incluyen generación, distribución y venta de electricidad requieren gran cantidad de mantenimiento para garantizar que las líneas de energía están operativas en todo momento para garantizar la entrega de energía para hogares. Error de estas operaciones es importantes como casi todas las entidades, determina los problemas de energía de las regiones que se producen. Interruptores de circuito son críticos para operaciones son una parte del equipo que corta corriente eléctrica en caso de problemas y corto circuitos para evitar daños a las líneas de power ocurra. El problema de la empresa para este caso de uso es predecir errores disyuntor dados los registros de mantenimiento, historial de comandos y especificaciones técnicas.

Tres orígenes de datos principales de este caso son los registros de mantenimiento que incluyen acciones correctivas, preventivas y sistemáticas, enviar datos operativos que incluye comandos automáticos y manuales a interruptores de circuito como para acciones de apertura y de cierre y especificación técnica datos sobre las propiedades de cada disyuntor como año, ubicación, modelo, etcetera.

##### <a name="business-value-of-the-predictive-model"></a>*Valor para el negocio del modelo predictivo*
Soluciones de mantenimiento predictiva ayudar a reducir los costes de reparación y aumentar el ciclo de vida de equipos como separadores de circuito. Estos modelos también ayudar a mejorar la calidad de la red de alimentación desde modelos proporcionan advertencias adelantado que reducen errores inesperados que producir menos interrupciones del servicio.

#### <a name="use-case-4-elevator-door-failures"></a>4 de caso de uso: Errores de puerta ascensores
##### <a name="business-problem-and-data-sources"></a>*Empresa problema y orígenes de datos*
Las empresas más grandes de ascensores suelen tienen millones de ascensores ejecuta todo el mundo. Para obtener un marco competitivo, centrarse en confiabilidad que es lo más importante a sus clientes. Dibujar el potencial de Internet de cosas, por sus ascensores a conectarse a la nube y recopilación de datos de sensores ascensores y sistemas, son capaces de transformar datos valiosa inteligencia empresarial que mejora enormemente operaciones ofreciendo predictivo y preventivo mantenimiento que no es algo que aún está disponible para los competidores. Los requisitos empresariales de este caso es proporcionar una aplicación predictiva de knowledge base que prevé que los posibles causas de errores de puerta. Los datos necesarios para esta implementación constan de tres partes que son características estático breve (por ejemplo, identificadores, contrato frecuencia de mantenimiento, tipo de creación, etc.), información de uso (por ejemplo, el número de ciclos de puerta, tiempo de cierre puerta promedio, etc.) y el historial de error (registros de errores, es decir, histórica y sus causas).

Un modelo de regresión logística multiclass se creó con Azure el aprendizaje para resolver el problema de predicción, con las características integradas estáticas y datos de uso como características y las causas de los registros de error históricos como etiquetas de clase. En este modelo predictiva es consumido por una aplicación en un dispositivo móvil que se utiliza por técnicos para ayudar a mejorar la eficacia de trabajo. Cuando un técnico entra en el sitio para reparar una breve, éste puede hacer referencia a esta aplicación para cursos de recomendaciones de acciones de mantenimiento y causas recomendadas corregir las puertas ascensores tan rápidas como sea posible.

### <a name="transportation-and-logistics"></a>Transporte y logística
#### <a name="use-case-1-brake-disc-failures"></a>Caso de uso 1: Errores de disco de freno
##### <a name="business-problem-and-data-sources"></a>*Empresa problema y orígenes de datos*
Las directivas de mantenimiento habituales para vehículos incluyen mantenimiento correctivo y preventivo. Mantenimiento correctiva implica que el vehículo se reparó después de que se ha producido un error que pueden provocar un graves inconvenientes para el controlador como resultado un error inesperado y pierde el tiempo en una visita a mecánico. La mayoría de los vehículos también están sujetos a una directiva de mantenimiento preventivos, que exige que se realicen determinadas inspecciones en una programación que no tienen en cuenta el estado de los subsistemas del automóvil. Ninguno de estos métodos son correcto en eliminar completamente problemas. El caso de uso específico aquí es la predicción de fallos de disco freno basada en los datos recopilados a través de sensores instalados en el sistema neumático de un coche que realiza un seguimiento de los patrones de conducción históricos y otras condiciones que el automóvil se expone a. El origen de datos más importante de este caso es los datos de sensor que miden, por ejemplo, aceleración, frenado patrones, conducción distancia, velocidad, etcetera. Esta información, junto con otra información estática como características de coche, generar ayuda un buen conjunto de indicadores que se pueden usar en un modelo de predicción. Otro conjunto de información esencial es el error de datos que se deriva de la base de datos de orden de elemento (usado para mantener las fechas de pedido de componente y cantidades mientras se está atendiendo automóviles la concesión).

##### <a name="business-value-of-the-predictive-model"></a>*Valor para el negocio del modelo predictivo*
El valor empresarial de un enfoque predictivo aquí es importante. Un sistema de mantenimiento predictiva puede programar una visita a los distribuidores basado en un modelo de predicción. El modelo se puede basar en información organoléptica que representa el estado actual del automóvil y el historial de conducción. Este enfoque puede minimizar el riesgo de errores inesperados, que también puede ocurrir antes de la siguiente mantenimiento periódico.
También puede reducir la cantidad de mantenimiento preventivo innecesario. Controlador de manera proactiva se informa que un cambio de los elementos podría ser necesario en unas semanas y proporcionar el distribuidor con esa información. El distribuidor podría, a continuación, preparar un paquete de mantenimiento individuales para el controlador con anticipación.

#### <a name="use-case-2-subway-train-door-failures"></a>Caso de uso 2: Errores metro tren puerta
##### <a name="business-problem-and-data-sources"></a>*Empresa problema y orígenes de datos*
Uno de los motivos principales de retrasos y problemas en las operaciones de metro es errores de puerta de coches de tren. Predecir si un coche tren puede tener un error de puerta, o para poder previsión el número de días hasta el error lado, es muy importante previsión. Proporciona la oportunidad de optimizar tren puerta mantenimiento y reducir el tiempo de inactividad del tren.

#### <a name="data-sources"></a>Orígenes de datos

Son tres orígenes de datos en este caso de uso 

- **Entrenar a los datos del evento**, que es el registros históricos de eventos de tren, 
- **datos de mantenimiento** , como tipos de mantenimiento, tipos de órdenes de trabajo y códigos de prioridad  
- **registros de errores**.

##### <a name="business-value-of-the-predictive-model"></a>*Valor para el negocio del modelo predictivo*
Se han creado dos modelos para predecir la probabilidad de error día siguiente con clasificación binario y días hasta el error con la regresión. De forma similar a los casos anteriores, los modelos de crear una gran oportunidad para mejorar la calidad del servicio y aumente la satisfacción del cliente completando disposiciones de mantenimiento regular.

## <a name="data-preparation"></a>Preparación de datos
### <a name="data-sources"></a>Orígenes de datos
Los elementos de datos comunes de problemas de mantenimiento predictiva pueden resumirse como sigue:

-   Historial de error: el historial de error de un equipo o un componente dentro de la máquina.
-   Historial de mantenimiento: el historial de reparación de un equipo, por ejemplo, códigos de error, anterior actividades de mantenimiento o sustituciones de componente.
-   Condiciones y el uso de la máquina: las condiciones de funcionamiento de un equipo, por ejemplo, los datos recopilan de sensores.
-   Características de la máquina: las características de un equipo, por ejemplo, el tamaño de motor, marca y modelo, ubicación.
-   Características de operador: las características del operador, por ejemplo, género, más allá de la experiencia.

Es posible y normalmente en el caso de que el historial de error se encuentra en historial de mantenimiento, como en el formulario de códigos de error especiales o fechas de pedido para componentes. En estos casos, se pueden extraer errores de los datos de mantenimiento. Además, los dominios de la empresa diferente pueden tener una gran variedad de otros orígenes de datos que afectan a los patrones de error que no se muestran aquí exhaustiva. Éstas deben identificarse consultando los expertos de dominio al generar modelos de predicción.

Se muestran algunos ejemplos de encima de los elementos de datos de casos de uso:

Historial de error: combatir retraso fechas, fechas de error de componente de aviones y tipos, errores de transacciones de retirada de efectivo ATM, tren o ascensores puerta errores, fechas de pedido de reemplazo de disco de freno, viento turbina error fechas y disyuntor comando.

Historial de mantenimiento: vuelo registros de errores, registros de errores de transacciones de ATM, entrenar incluidos tipo de mantenimiento, etc. de descripción breve y registros de mantenimiento disyuntor de registros de mantenimiento.

Condiciones y el uso de la máquina: enruta el vuelo y horas, formar a los datos de sensor recopilados motores de aviones, lecturas de sensor de transacciones ATM, datos de eventos, lecturas de sensor de turbinas de aire, ascensores y automóviles conectadas.

Características de la máquina: disyuntor especificaciones técnicas como niveles de voltaje, ubicación geográfica o coche características como marca, modelo, motor de tamaño, tipos de neumático, las instalaciones de producción etcetera.

Dados los orígenes de datos anterior, son los dos tipos de datos principal que observamos en el dominio de mantenimiento predictiva datos temporales y datos estáticos.
Historial de errores, condiciones de equipo, repare histórico, uso casi siempre pendiente con marcas de tiempo que indica la hora de la colección de cada fragmento de datos. Características de equipo y de operador en general son estático ya que generalmente describen las especificaciones técnicas de máquinas o propiedades del operador. Es posible que estas características cambiar el tiempo y si es así debe tratará como orígenes de datos de marca de tiempo.

### <a name="merging-data-sources"></a>Combinar orígenes de datos

Antes de empezar a cualquier tipo de proceso de etiquetado o de ingeniería de la característica, es necesario preparar los datos en el formulario necesario para crear las funciones de. El objetivo es generar un registro de cada unidad de tiempo para cada activo con sus características y etiquetas introducirse en el equipo algoritmo de aprendizaje. Para preparar ese conjunto de datos ordenada final, deberían tomarse algunos pasos de preprocesamiento. Primer paso es dividir la duración de recopilación de datos en unidades de tiempo que cada registro pertenece a una unidad de tiempo de un activo. Recopilación de datos también puede dividirse en otras unidades como acciones, pero para simplificar usamos unidades de tiempo para el resto de las explicaciones.

La unidad de medida de tiempo puede estar en segundos, minutos, horas, días, meses y ciclos, millas o transacciones en función de la eficacia de preparación de datos y los cambios observados en las condiciones del activo en una unidad de tiempo a otro u otros factores específicas del dominio. En otras palabras, la unidad de tiempo no tiene que ser la misma que la frecuencia de recopilación de datos como en muchos casos de datos puede no mostrar cualquier diferencia de una unidad a otra. Por ejemplo, si se recopilan los valores de la temperatura cada 10 segundos, eligiendo una unidad de tiempo de 10 segundos para el análisis todo aumenta el número de ejemplos sin proporcionar información adicional. Estrategia mejor sería utilizar promedio más de una hora como un ejemplo.

Esquemas de genérico de datos de ejemplo para los orígenes de datos posibles explicados en la sección anterior son:

Registros de mantenimiento: estos son los registros de acciones de mantenimiento realizadas. Los datos sin formato mantenimiento normalmente se suministra con un Id. de activo y marca de tiempo con información sobre qué actividades de mantenimiento se han realizado en ese momento. En el caso de datos sin formato, las actividades de mantenimiento necesitan traducirse en columnas por categorías con cada categoría correspondiente a un tipo de acción de mantenimiento. El esquema de datos básico para los registros de mantenimiento incluiría columnas de acción ID, el tiempo y el mantenimiento de activos.

Registros de error: estos son los registros que pertenecen al destino de predicción que denominamos errores o motivo del error. Pueden ser códigos de error específicos o eventos de errores definidas por condición de negocio específicos. En algunos casos, los datos incluyen varios códigos de error algunas de las cuales corresponden a los errores de interés. No todos los errores son objetivo de la predicción de otros errores normalmente se usa para construir características que se pueden relacionar con errores. El esquema de datos básico para los registros de error incluiría Id. de activo, tiempo y error o columnas de razón de error si está disponible la razón.

Condiciones del equipo: son preferentemente supervisión en tiempo real datos sobre las condiciones de funcionamiento de los datos. Por ejemplo, si hay errores de puerta, abertura de la puerta y las horas de cierre son buenos indicadores sobre la condición actual de puertas. El esquema de datos básico de condiciones de máquina incluiría columnas de valor ID, la hora y la condición de activo.

Equipo y operador de datos: se pueden combinar datos de equipo y operador en un esquema para identificar qué activos se a través de qué operador junto con las propiedades de activos y operador. Por ejemplo, un coche normalmente pertenece a un controlador con atributos como edad, conducción experiencia etcetera. Si estos datos cambian con el tiempo, estos datos también deben incluir una columna de tiempo y se deben tratar como variable de datos para la generación de la característica de tiempo. El esquema de datos básico de condiciones de máquina incluiría Id. de activo, características de activos, ID de operador y características de operador.

La tabla final antes de etiquetar y la característica de generación puede generar izquierda unirse a la tabla de condiciones de equipos con los registros de error en campos de tiempo e Id. de activo. Esta tabla se puede combinar, a continuación, con los registros de mantenimiento de Id. de activo y la hora de campos y finalmente con machine y operador de características en Id. La primera combinación izquierda deja los valores nulos de la columna de error cuando el equipo está en funcionamiento normal, estos se puedan pueden deducir por un valor de indicador para el funcionamiento normal. Esta columna error se usa para crear etiquetas para el modelo de predicción.

### <a name="feature-engineering"></a>Ingeniería de característica
El primer paso en el modelado es ingeniería de la característica. La idea de generación de la característica es conceptualmente describir y resumen de estado de salud de un equipo en un momento dado con datos históricos recopilados hasta ese momento en el tiempo. En la siguiente sección, le proporcionamos una descripción general del tipo de técnicas que se pueden usar para el mantenimiento predictivo y cómo el etiquetado está hecho cada técnica. La técnica exacta que debe utilizar depende del problema de datos y de negocios. Sin embargo, los métodos de ingeniería característica que se describe a continuación pueden utilizarse para crear características como línea base. A continuación, trataremos características de posposición que deben crearse de orígenes de datos que vienen con marcas de tiempo y también características estáticas creadas a partir de orígenes de datos estáticos y se proporcionan ejemplos de los casos de uso.

#### <a name="lag-features"></a>Características de posposición
Como se mencionó anteriormente, en mantenimiento predictivo, datos históricos normalmente se suministra con las marcas de tiempo que indica la hora de la colección de cada fragmento de datos. Existen varias formas de crear las características de los datos que se suministra con datos de marca. En esta sección se describen algunos de estos métodos utilizados para el mantenimiento predictivo. Sin embargo, no estamos limitados por estos métodos. Dado que ingeniería característica se considera una de las áreas más creativas de modelado de predicción, podría ser muchos otros modos de crear características. A continuación, le proporcionamos algunas técnicas generales.

##### <a name="rolling-aggregates"></a>*Agregados graduales*
Para cada registro de un activo, se seleccione una ventana de tamaño "P", que es el número de unidades de tiempo que le gustaría calcular agregados históricos para graduales. Podemos calcular sucesiva funciones de agregado mediante los períodos W antes de la fecha de dicho registro. Algunos ejemplos sucesiva agregados pueden sucesiva recuentos, significa que, desviaciones estándar, valores atípicos en función de las desviaciones estándar, CUSUM medidas, valores mínimos y máximos de la ventana. Otra técnica interesante es capturar cambios de tendencia, picos y nivel utilizando algoritmos detectan anomalías en datos con algoritmos de detección de anomalías.

Para demostración, vea figura 1 donde se representan los valores de sensor registrados de un activo para cada unidad de tiempo con las líneas azules y marca el cálculo promedio característica graduales W = 3 para los registros en t<sub>1</sub> y t<sub>2</sub> que se indican por agrupaciones verdes y naranjas, respectivamente.

![Figura 1. Funciones de agregado de desplazamiento](media/cortana-analytics-playbook-predictive-maintenance/rolling-aggregate-features.png)

Figura 1. Funciones de agregado de desplazamiento

Como ejemplos, falla de componentes de aviones, valores de sensor de la semana pasada, los últimos tres días y el último día se utilizaron para crear medios graduales, desviación estándar y características de suma. Del mismo modo, para los errores de ATM, valores de sensor sin formato y distribuir significa, mediana, rango, desviaciones estándar, se utilizaron número de valores atípicos más allá de tres desviaciones estándar, características CUMSUM superiores e inferiores.

Predicción de retraso de vuelo, recuentos de códigos de la semana pasada se utilizaron para crear características de error. Si hay errores de puerta tren, recuentos de los eventos en el último día, recuentos de eventos durante las dos semanas anteriores y variación de recuentos de eventos de los 15 días anterior se utilizaron para crear características de posposición. Contando mismo se usó para eventos relacionados con el mantenimiento.

Además, mediante la elección de una W es muy grande (ex. años), es posible ver todo el historial de un activo, como el recuento de todos los registros de mantenimiento, errores etcetera. hasta el momento del registro. Este método se ha utilizado para el recuento de errores de disyuntor durante los últimos tres años. También si hay errores de tren, todos los eventos de mantenimiento han contado crear una función para capturar los efectos de mantenimiento a largo plazo.

##### <a name="tumbling-aggregates"></a>*Agregados de rotación*
Para cada registro etiquetada de un activo, se selección una ventana de tamaño "W-<sub>k"</sub>donde k está las ventanas de tamaño "P" que se va a crear las funciones de posposición para o un número. "k" se puede seleccionar como un gran número para capturar tramas de degradación a largo plazo o un pequeño número para capturar efectos a corto plazo. A continuación, usamos k rotación windows W-<sub>k</sub> , W -<sub>(k-1)</sub>,..., W -<sub>2</sub> , W -<sub>1</sub> para crear las funciones de agregado de los períodos antes de la fecha de registro y la hora (consulte la figura 2). Estos son también sucesiva windows en el nivel de registro de una unidad de tiempo que no se captura en la figura 2, pero la idea es la misma que figura 1 donde t<sub>2</sub> también se usa para mostrar el efecto graduales.

![Figura 2. Funciones de agregado de rotación](media/cortana-analytics-playbook-predictive-maintenance/tumbling-aggregate-features.png)

Figura 2. Funciones de agregado de rotación

Por ejemplo, para turbinas de aire, W = 1 y k = 3 meses se utilizaron para crear características de posposición para cada uno de los últimos 3 meses con valores atípicos superior e inferior.

#### <a name="static-features"></a>Características estáticas
Estos son especificaciones técnicas del equipo, como la fecha de fabricación, número de modelo, ubicación, etcetera. Aunque las características de posposición principalmente son numéricas por naturaleza, características estáticas normalmente se convierten en variables por categorías en los modelos. Como ejemplo, propiedades de disyuntor como voltaje, actual y especificaciones de power junto con tipos de transformador, se utilizaron etc. de fuentes de alimentación. Errores de disco de freno, el tipo de neumático ruedas tal como si son aleación o acero se utilizaron como algunas de las características estáticas.

Durante la generación de la característica, deben realizar otros pasos importantes como controlar normalización y valores que faltan. Existen varios métodos de imputación falta de valor y también normalización de datos que no se trata aquí. Sin embargo, es conveniente probar diferentes métodos para ver si es posible que un aumento en el rendimiento de predicción.

La tabla de características finales después de la característica de ingeniería los pasos indicados en la sección anterior debe ser similar el esquema de datos de ejemplo siguientes cuando la unidad de tiempo es un día:

|Id. de activo|Hora|Función columnas|Etiqueta|
|---|---|---|---|
|1|1 día|||
|1|Día 2|||
|...|...|||
|2|1 día|||
|2|Día 2|||
|...|...|||

## <a name="modeling-techniques"></a>Técnicas de modelado
Mantenimiento predictivo es un dominio de muy eficaces a menudo empleando las preguntas de la empresa que pueden enfoques desde distintos ángulos muchas de las perspectivas de modelado de predicción. En las siguientes secciones, se proporcionan técnicas principales que se usan para modelar preguntas empresariales diferentes que pueden responder con soluciones de mantenimiento predictiva. Si bien hay similitudes, cada modelo tiene su propia forma de crear etiquetas que se describen en detalle. Como un recurso adjunto, puede hacer referencia a la plantilla de mantenimiento predictiva que se incluye en la experimentación de muestra proporcionados en aprendizaje de máquina de Azure. Los vínculos al material en línea para esta plantilla se proporcionan en la sección de recursos. Puede ver cómo algunas de las técnicas de ingeniería característica describen anteriormente y la técnica de modelado que se describe en las secciones siguientes se aplican a predecir errores de motor de avión mediante el aprendizaje Azure.

### <a name="binary-classification-for-predictive-maintenance"></a>Clasificación binaria de mantenimiento predictiva
Clasificación binaria de mantenimiento predictiva se usa para predecir la probabilidad de que se produce un error en el equipo dentro de un período de tiempo futuro. Determina el período de tiempo y en función de las reglas de empresa y los datos en cuestión. Algunos períodos de tiempo común son tiempo de adelanto mínimos necesario para comprar componentes reemplazar probablemente a componentes de daños o el tiempo necesario para implementar el mantenimiento de los recursos para realizar rutinas de mantenimiento para solucionar el problema que es probable que se produzca dentro de ese período de tiempo. Llamamos a este período futuro horizonte "X".

Para utilizar la clasificación binario, debemos identificar los dos tipos de ejemplos que denominamos positivos y negativos. Cada ejemplo es un registro que pertenece a una unidad de tiempo de un activo conceptualmente describir y condensar sus condiciones de funcionamiento hasta esa unidad de tiempo a través de la característica ingeniería usando histórica y otros orígenes de datos que se ha descrito anteriormente. En el contexto de clasificación binario de mantenimiento predictiva, tipo positivo indica errores (etiqueta 1) y tipo negativo indica las operaciones normales (etiqueta = 0) ¿dónde están las etiquetas de tipo por categorías. El objetivo es encontrar un modelo que identifica cada ejemplo nuevo como es probable que no se realice correctamente o funcionando normalmente durante los próximos X unidades de tiempo.

#### <a name="label-construction"></a>Construcción de etiqueta
Para crear un modelo de predicción para responder a la pregunta "¿Cuál es la probabilidad de que se produce un error en el activo en la siguiente X unidades de tiempo?", etiquetar se realiza registros de toma de X antes del error de un activo y ponerles como "aproximadamente fail" (etiqueta = 1) mientras etiquetar todos los demás registros como "normal" (etiqueta = 0). En este método, etiquetas son variables por categorías (consulte la figura 3).

![Figura 3. Etiquetado de clasificación binario](media/cortana-analytics-playbook-predictive-maintenance/labelling-for-binary-classification.png)

Figura 3. Etiquetado de clasificación binario

Para las demoras de los vuelos y las cancelaciones de reuniones, se ha seleccionado un día X predecir retrasos en las próximas 24 horas. Todos los vuelos que están dentro de 24 horas antes de errores se han marcado como 1s. Para efectivo ATM renunciar errores, se crearon dos modelos de clasificación binario predecir la probabilidad de error de una transacción en los siguientes 10 minutos y predecir la probabilidad de error en las notas siguientes 100 suprimirse. Todas las transacciones que se hicieron dentro de los últimos 10 minutos del error etiquetadas como 1 para el primer modelo. Y todas las notas suprimirse dentro de las 100 últimas notas de un error se han marcado como 1 para el segundo modelo. Si hay errores de disyuntor, la tarea es predecir la probabilidad de que se produce un error en el siguiente comando disyuntor en el que se elige caso X sea un comando futuro. Si hay errores de puerta tren, el modelo de clasificación binario se creó para predecir errores dentro de los próximos 7 días. Si hay errores de turbina viento, X se ha elegido como 3 meses.

Parques turbina e instruir a puerta casos también se usan para el análisis de regresión predecir restante vida útil con los mismos datos, pero mediante el uso de una estrategia de etiquetado diferente que se explica en la siguiente sección.

### <a name="regression-for-predictive-maintenance"></a>Error de regresión de mantenimiento predictivo
Los modelos de regresión en mantenimiento predictivo se usan para calcular la vida útil restante (RUL) de un activo en el que se define como la cantidad de tiempo que el activo operativo antes de que se produzca el error siguiente. Igual que la clasificación binario, cada ejemplo es un registro que pertenece a una unidad de tiempo "Y" para un activo. Sin embargo, en el contexto de regresión, el objetivo es encontrar un modelo que calcula la vida útil restante de cada ejemplo nuevo como un número continuo que es el período de tiempo restante antes del error. Llamamos a este período de tiempo algunos múltiplo de Y. Cada ejemplo también tiene una vida útil restante que se puede calcular medir la cantidad de tiempo restante de ejemplo antes el siguiente error.

#### <a name="label-construction"></a>Construcción de etiqueta
Dado que la pregunta "¿Cuál es la vida útil restante del equipo?
", etiquetas para el modelo de regresión puede crearse tomando cada registro antes del error y ponerles calculando cuántas unidades de tiempo permanecen antes el siguiente error. En este método, etiquetas son variables continuadas (consulte la figura 4).

![Figura 4. Etiquetado de regresión.](media/cortana-analytics-playbook-predictive-maintenance/labelling-for-regression.png)

Figura 4. Etiquetado de regresión.

Diferente de clasificación binaria, de regresión, activos sin errores en los datos no se pueden usar para modelado como etiquetado se realiza en relación con un punto de error y el cálculo no es posible sin saber cuánto activo sobrevivieron antes de error. Este problema se trata mejor por otra técnica estadística denominado análisis de supervivencia.
No vamos a tratar los análisis de supervivencia en esta guía debido a las complicaciones que pueden surgir al aplicar esta técnica a casos de uso de mantenimiento predictiva que implican variables de tiempo de datos con regularidad.

### <a name="multi-class-classification-for-predictive-maintenance"></a>Clasificación de clase múltiples para mantenimiento predictiva
Clasificación de clase múltiples para mantenimiento predictiva puede usarse para predecir dos resultados futuros. La primera es asignar a un activo a uno de los varios períodos posibles de tiempo para dar a un intervalo de tiempo para el error para cada activo. La segunda es identificar la probabilidad de error en el futuro debido a una de las varias causas raíz. Que permite que el personal de mantenimiento que cuenta con este conocimiento para controlar los problemas con anticipación. Otra técnica de modelado de clase múltiples se centra en más probable es que determinar la causa de un dado un error. Esto permite recomendaciones concedido por las acciones de mantenimiento superior corregir un error.
Al tener una lista de clasificación de raíz hace y asociados acciones de reparación  
técnicos pueden ser más eficaces en tomar sus acciones de reparación de la primera después de errores.

#### <a name="label-construction"></a>Construcción de etiqueta
Dado las dos preguntas que son "¿Cuál es la probabilidad de que se produce un error de un activo en las unidades"aZ"siguientes de tiempo donde"a"es el número de períodos" y "¿Cuál es la probabilidad de que se produce un error en el activo en la siguiente X unidades de tiempo debido a un problema" P<sub>i</sub>"donde"i"es el número de causas posibles, etiquetar se realiza de la siguiente manera para estas técnicas.

Para la primera pregunta, etiquetar se lleva a cabo realizando registros aZ antes del error de un activo y ponerles utilizando depósitos de tiempo (3Z, 2Z, Z) como sus etiquetas mientras etiquetar todos los demás registros como "normal" (etiqueta = 0). En este método, etiqueta es variable por categorías (vea figura 5).

![Figura 5. Etiquetado de clasificación multiclass predicción de tiempo de error](media/cortana-analytics-playbook-predictive-maintenance/labelling-for-multiclass-classification-for-failure-time-prediction.png)

Figura 5. Etiquetado de clasificación multiclass predicción de tiempo de error

Para la segunda pregunta, etiquetar se lleva a cabo registros de toma de X antes del error de un activo y ponerles como "aproximadamente a error debido a problemas P<sub>i"</sub>(etiqueta = P<sub>i</sub>) mientras etiquetar todos los demás registros como "normal" (etiqueta = 0). En este método, etiquetas son variables por categorías (ver figura 6).

![Figura 6. Etiquetado de clasificación multiclass predicción de la causa de raíz](media/cortana-analytics-playbook-predictive-maintenance/labelling-for-multiclass-classification-for-root-cause-prediction.png)

Figura 6. Etiquetado de clasificación multiclass predicción de la causa de raíz

El modelo asigna una probabilidad de error debido a cada P<sub>i</sub> , así como la probabilidad de ningún error. Estas probabilidades pueden ordenarse por magnitud para permitir la predicción de los problemas que es probable que se produzca en el futuro. Caso de uso de aviones componente error se estructura como un problema de clasificación multiclass. Esto permite la predicción de las probabilidades de error debido a dos componentes de válvula de presión diferentes que se producen dentro del mes siguiente.

Para recomendar acciones de mantenimiento después de errores, etiquetar no requiere un horizonte futuro seleccionarán. Esto es porque el modelo no es predecir el error en el futuro, pero solo predecir la causa más probable es que una vez que ya se ha alcanzado el error. Errores de puerta ascensores se dividen en el tercer caso donde el objetivo es predecir la causa del error dado datos históricos en condiciones de funcionamiento. En este modelo, a continuación, se usa para predecir que las probablemente causas después de que se ha producido un error. Una ventaja clave de este modelo es que ayuda a diagnosticar y solucionar problemas que sería necesario años de experiencia fácilmente sin experiencia técnicos.

## <a name="training-validation-and-testing-methods-in-predictive-maintenance"></a>Aprendizaje, validación y métodos de prueba en mantenimiento predictivo
En mantenimiento predictivo, similar a cualquier otro espacio de solución que contiene los datos de la marca, la formación típica y probar rutinaria debe tener en cuenta los aspectos diversos de tiempo mejor generalize en datos no vistos en el futuro.

### <a name="cross-validation"></a>Validación de cruz
Muchos algoritmos de aprendizaje de máquina dependen de un número de hyperparameters que puede cambiar el rendimiento de modelo significativamente. Los valores de estos hyperparameters óptimo no se calculan automáticamente cuando entrenamiento del modelo, pero debe especificar científico de datos. Hay varias formas de encontrar valores correctos de hyperparameters. El más habitual es "k plegado validación cruzada" que divide los ejemplos aleatoriamente pliegue "k". Para cada conjunto de valores de hyperparameters, algoritmo de aprendizaje es tiempos de ejecución k. En cada iteración, se usan en los ejemplos del pliegue actual como un conjunto de validación, el resto de los ejemplos se usan como un conjunto de aprendizaje. Se calculan los trenes algoritmo sobre las métricas de rendimiento y ejemplos de formación sobre ejemplos de validación. Al final de este bucle para cada conjunto de valores de hyperparameter estamos calcular el promedio de los valores de métrica de rendimiento k y elija los valores de hyperparameter que tienen el mejor rendimiento promedio.

Como se mencionó anteriormente, problemas de mantenimiento predictiva, los datos se registran como una serie de tiempo de eventos que proceden de varios orígenes de datos. Estos registros pueden ordenarse según el tiempo de un registro a o un ejemplo de etiquetado. Por lo tanto, si se divide el conjunto de datos aleatoriamente en conjunto de aprendizaje y validación, algunos de los ejemplos de formación son posteriores en el tiempo que algunos de los ejemplos de validación. El resultado estimar el rendimiento futuro de valores hyperparameter basándose en los datos recibidos antes de que se ha preparado el modelo. Estas estimaciones podrían ser demasiado optimistas, especialmente si de series temporales no son fijas y cambiar su comportamiento a lo largo del tiempo. Como resultado, los valores de hyperparameter elegido podrían ser óptimos.

Una manera mejor de encontrar los valores de buenos de hyperparameters es dividir los ejemplos en curso y validación establecer de forma depende del tiempo, tal que todos los ejemplos de validación son posteriores en el tiempo que todos los ejemplos de aprendizaje. A continuación, para cada conjunto de valores de hyperparameters nos entrenar el algoritmo sobre el conjunto de entrenamiento, medir el rendimiento del modelo sobre el mismo conjunto de validación y elija valores hyperparameter que muestran el mejor rendimiento. Cuando los datos de la serie temporal no es fija y evolucionar con el tiempo, los valores de hyperparameter elegidos por tren/validación dividir cliente potencial en un futuro mejor "del modelo de rendimiento que con los valores aleatoriamente por validación cruzada.

El modelo final generado por un algoritmo de aprendizaje de formación sobre datos completa con los valores de hyperparameter mejores que se encuentran mediante la formación o validación divida o validación cruzada.

### <a name="testing-for-model-performance"></a>Probar el rendimiento del modelo
Después de crear un modelo debemos estimar su rendimiento en nuevos datos en el futuro. La estimación más sencilla podría ser el rendimiento del modelo sobre los datos de entrenamiento. Pero esta estimación es demasiado optimista, porque el modelo se adapta a los datos que se usan para estimar el rendimiento. Una estimación mejor podría ser una métrica de rendimiento de hyperparameter valores calculada sobre el conjunto de validación o calcula una métrica de rendimiento medio de validación cruzada. Pero por las mismas razones como se mencionó anteriormente, estas estimaciones aún demasiado optimistas. Debemos enfoques más realistas para medir el rendimiento del modelo.

Una forma es dividir los datos de forma aleatoria en conjuntos de formación, validación y prueba. Los conjuntos de aprendizaje y validación se utilizan para seleccionar los valores de hyperparameters y entrenar el modelo con ellos. El rendimiento del modelo se mide sobre el conjunto de prueba.

Otra forma de que es relevante para mantenimiento predictivo, es dividir los ejemplos en curso, validación y conjuntos de prueba de manera depende del tiempo, por ejemplo, todos los ejemplos de prueba son posteriores en el tiempo que todos los ejemplos de validación y aprendizaje. Después de la división, medida de generación y rendimiento de modelo se realizan la misma como se describió anteriormente.

Cuando fija y fáciles de predecir las series de tiempo son ambos métodos generan estimaciones similares de rendimiento en el futuro. Pero cuando series temporales son difíciles de predecir o de diseño de fondo no, el segundo enfoque generará más realistas estimaciones de rendimiento en el futuro de la primera.

### <a name="time-dependent-split"></a>Dividir depende del tiempo
Como práctica recomendada, en esta sección se tardar más detalles sobre cómo implementar dividido depende del tiempo. Describimos una división bidireccional depende del tiempo entre formación y los conjuntos de prueba, sin embargo exactamente debe aplicar la misma lógica para dividir para conjuntos de aprendizaje y validación depende del tiempo.

Supongamos que tenemos una secuencia de eventos de marca como las medidas de distintos sensores. Características de aprendizaje y ejemplos de prueba, así como sus etiquetas, se definen sobre períodos de tiempo que contienen varios eventos.
Por ejemplo, para clasificación binario, como se describe en secciones de la característica de ingeniería y técnicas de modelado, características se crean basándose en los últimos eventos y las etiquetas se crean en función de eventos futuros en "X" unidades de tiempo en el futuro. Por lo tanto, el intervalo de tiempo etiquetado de un ejemplo más adelante viene a continuación, el periodo de sus características. Para dividir depende del tiempo, se seleccione un punto en el tiempo en el que se entrenar a un modelo de hyperparameters ajustada usando datos históricos hasta que seleccione. Para evitar pérdidas de etiquetas futuras que están más allá de la línea de corte de formación en los datos de entrenamiento, elegimos el periodo de tiempo más reciente de ejemplos de formación de etiqueta que X unidades antes de la fecha de corte de aprendizaje. En la figura 7, cada círculo sólido representa una fila en el conjunto de datos de la característica final para que las características y las etiquetas se calculan según el método descrito anteriormente. Dado, la ilustración muestra los registros que deben ir en aprendizaje y la comprobación conjuntos al implementar dividido depende del tiempo para X = 2 y W = 3:

![Figura 7. Divide depende del tiempo de clasificación binario](media/cortana-analytics-playbook-predictive-maintenance/time-dependent-split-for-binary-classification.png)

Figura 7. Divide depende del tiempo de clasificación binario

Los cuadrados verdes representan los registros que pertenecen a las unidades de tiempo que se pueden usar para formación. Como se explica anteriormente, cada ejemplo formación en la tabla final de la característica se genera consultando últimos 3 períodos para la generación de la característica y 2 períodos futuros para etiquetar antes de la línea de corte de día de aprendizaje. No utilizamos ejemplos en la formación establecer cuando cualquier parte de los períodos futuros 2 por ese ejemplo es más allá de la línea de corte de aprendizaje ya que suponemos que no disponemos de visibilidad más allá de la línea de corte de aprendizaje. Debido a que restricción, negro ejemplos representan los registros del dataset etiquetado final que no se debe utilizar en el conjunto de datos de aprendizaje. Estos registros no se utilizará en las pruebas datos o bien, ya que son antes de la línea de corte de formación y sus etiquetas plazos dependen parcialmente el periodo de aprendizaje que no debería ser el caso que nos gustaría totalmente separadas etiquetado plazos de formación y prueba para evitar la pérdida de información de etiqueta.

Esta técnica permite la superposición en los datos utilizados para la generación de características entre formación y probar los ejemplos que aparecen cerca de la línea de corte de aprendizaje. Según la disponibilidad de datos, puede realizarse una separación aún más grave no con cualquiera de los ejemplos en el conjunto de pruebas que se encuentran en unidades de tiempo W de la línea de corte de aprendizaje.

Desde nuestro trabajo encontramos que los modelos de regresión usados para las predicciones vida útil restante están más gravemente afectados por el problema de fuga y dividir aleatorio de clientes potenciales desbordamiento extremo. Del mismo modo, problemas de regresión, la división deberá permitir que los registros que pertenecen a activos con errores antes de formación cortados se deben utilizar para el conjunto de entrenamiento y activos que tienen errores después de la línea de corte se debe usar para probar el conjunto.

Como un método general, otra buena práctica importante para divide los datos para pruebas y formación es usar una división por Id. de activo de manera que ninguno de los activos que se utilizaron en curso se usan para realizar pruebas ya que es la idea de las pruebas para asegurarse de que cuando se utiliza un nuevo activo para realizar predicciones en, el modelo proporciona resultados realistas.

### <a name="handling-imbalanced-data"></a>Tratamiento de datos desequilibradas
Problemas de clasificación, si hay más ejemplos de una clase que los demás, los datos se dice que desequilibradas. Lo ideal es que, nos gustaría tener suficiente representantes de cada clase en los datos de entrenamiento para poder distinguir entre diferentes clases. Si una clase es inferior al 10% de los datos, podemos decir que los datos están desequilibrados y llamamos a la clase de minoritarios underrepresented conjunto de datos. Considerablemente, en muchos casos encontramos desequilibradas conjuntos de datos donde gravemente es underrepresented una clase con respecto a otras personas por ejemplo por sólo constituyen 0,001% de los puntos de datos. Descuadre de clase es un problema de muchos dominios incluidos detección de fraudes, intrusiones en la red y mantenimiento predictivo donde errores son repeticiones normalmente poco comunes en la duración de los activos que componen los ejemplos de clase minoritario.

En caso de descuadre de clase, rendimiento de la mayoría de los algoritmos de aprendizaje está comprometido como pretende minimizar la tasa de error general. Por ejemplo, para un conjunto de datos con ejemplos de clase negativo 99% y ejemplos de clase positivo 1%, que podemos disponer 99% de precisión simplemente etiquetar todas las instancias como negativos. Sin embargo, esta misclassifies todos los ejemplos positivos para que el algoritmo no es útil, aunque es muy alta la métrica de precisión. Por consiguiente, métricas de evaluación convencional como precisión global en el tipo de error, no son suficientes en caso de aprendizaje desequilibrada. Otras medidas, como precisión, recuperación, puntuación F1 y costo ajustados curvas ROC se usan para evaluaciones en caso de desequilibradas conjuntos de datos que se describen en la sección métricas de evaluación.

Sin embargo, hay algunos métodos que ayudan a solucionar clase problema descuadre. Las dos más importantes son muestreo técnicas y aprendizaje confidencial de costo.

#### <a name="sampling-methods"></a>Métodos de muestreo
El uso de métodos de aprendizaje desequilibrada de muestreo consta de modificación del conjunto de datos por algunos mecanismos para proporcionar un conjunto de datos equilibrada. Aunque hay una gran cantidad de técnicas de muestreo diferente, la mayoría directa son aleatorios oversampling y muestreo en.

Indique simplemente, aleatorio sobremuestreo consiste en seleccionar una muestra aleatoria de clase minoritarios, replicar estos ejemplos y agregarlos al conjunto de datos de aprendizaje. Esto aumenta el número de total ejemplos de clase de minoritarios y finalmente equilibrar el número de ejemplos de clases diferentes. Un peligro de sobremuestreo es que pueden hacer que el clasificador para convertirse en demasiado específica, lo que lleva a desbordamiento varias instancias de algunos ejemplos.
Esto daría como resultado de la precisión de aprendizaje alta pero el rendimiento de la comprobación de datos de ocultar puede ser muy deficiente. Por el contrario, aleatorio en muestreos consiste en seleccionar una muestra aleatoria de clase de mayoría y quitar estos ejemplos de conjunto de datos de aprendizaje. Sin embargo, quitando ejemplos de clase de mayoría podría causar el clasificador de perder conceptos importantes relacionados con la clase en la mayoría. Muestras de híbrido donde se sobremuestreada clase minoritarios y clase mayoría se muestra bajo al mismo tiempo es otro método viable. Hay que muchas otras técnicas de muestreo más complejas están disponibles y los métodos de muestreo eficaces para descuadre de clase es un área de investigación populares recibir atención constante y contribuciones de muchos canales. Uso de distintas técnicas para decidir sobre las más eficaces que normalmente es de izquierda a la científico datos investigar y experimentar y altamente dependen de las propiedades de datos. Además, es importante para asegurarse de que los métodos de muestreo se aplican solo a establece la formación pero no la configuración de pruebas.

#### <a name="cost-sensitive-learning"></a>Costo de aprendizaje confidencial
En mantenimiento predictivo, errores que constituyen la clase minoritarios son de interés más que ejemplos normales y, por tanto, el foco está en el rendimiento del algoritmo de errores suele ser el foco. Esto se conoce normalmente como pérdida desigual o asimétricos costos de clasifique mal elementos de distintas clases donde incorrectamente predecir un positivo como negativo puede costar más de viceversa. El clasificador deseado debería poder dar precisión alta predicción sobre la clase minoritarios, sin afectar gravemente la precisión de la clase de la mayoría.

Hay varias formas, puede hacerlo. Asignar un alto costo a misclassification de la clase minoritarios y intenta minimizar el costo total, se pierde el problema de desiguales puede puede atenderse eficaz. Algunos algoritmos de aprendizaje de máquina use esta idea inherente como SVMs (equipos de soporte técnico Vector) donde se pueden incorporar los costos de ejemplos positivos y negativos durante el tiempo de aprendizaje. Del mismo modo, aumentar métodos se usan y suele mostrar un buen rendimiento en caso de decisión desequilibradas datos aumenta como algoritmos de árbol.

## <a name="evaluation-metrics"></a>Métrica de evaluación
Como se mencionó anteriormente, descuadre clase hace un rendimiento deficiente como algoritmos suelen clasificar ejemplos de clase de mayoría mejores en gastos de casos de clase minoritarios mucho se ha mejorado el error misclassification total cuando clase mayoría se etiqueta correctamente. Esto hace tasas de recuperación baja y se convierte en un problema mayor cuando el coste de falsas alarmas para la empresa es muy alto. Precisión es la métrica más popular que se utiliza para describir el rendimiento de un clasificador. Sin embargo, como se explica anteriormente precisión es ineficaz y no refleja el rendimiento real de la funcionalidad del clasificador como es muy sensible a la distribución de datos. En su lugar, se usan otras métricas de evaluación para evaluar los problemas de aprendizaje desequilibradas. En estos casos, la puntuación de F1, la recuperación y la precisión debe ser la métrica inicial que mirar al evaluar el rendimiento de modelo de mantenimiento predictiva. En mantenimiento predictivo, tasas de recuperación denotan cuántos de los errores en el conjunto de prueba se han identificado correctamente por el modelo. Mayores tasas de recuperación significan que el modelo sea correcto detectar los errores de true. Métrica de precisión se relaciona con la tasa de falsas alarmas donde se corresponden tasas de precisión menor a mayor falsas alarmas. Puntuación F1 considera tasas de precisión y recuperación con mejor valor como 1 y el peor como 0.

Además, para clasificación binario, las tablas de intervalo de decilas y elevación gráficos son muy informativos al evaluar el rendimiento. Centrarse únicamente en la clase positiva (errores) y proporcione una imagen más compleja del rendimiento del algoritmo de lo que se ve consultando solo un punto fijo funcionamiento de la curva ROC (receptor operativo característica).
Tablas de intervalo de decilas se obtienen por orden de los ejemplos de prueba según sus probabilidades predicción de errores calculados por modelo antes tolerancia a decidir sobre la etiqueta final. Los ejemplos ordenados, a continuación, se agrupan en deciles (es decir, los ejemplos de 10% con mayor probabilidad y, a continuación, 20%, 30% y así sucesivamente). Calculando la relación entre true tasa positivo de cada intervalo de decilas y su previsto aleatorio (es decir, 0,1, 0,2..) se puede estimar cómo cambia el rendimiento del algoritmo de cada intervalo de decilas. Gráficos de elevación se utilizan para trazar los valores del intervalo de decilas trazando tasa positivo verdadero de intervalo de decilas frente a pares de aleatorio tasa positivo es true para todos los deciles. Normalmente, la primera deciles son el foco de los resultados ya que aquí vemos las ganancias mayor. También pueden verse deciles primera como representante de "en riesgo" cuando se utiliza para realizar el mantenimiento predictivo.

## <a name="sample-solution-architecture"></a>Arquitectura de la solución de ejemplo
Al implementar una solución de mantenimiento predictiva, estamos interesados en una solución de llevar a cabo que proporciona un ciclo continuo de recopilación de datos, almacenamiento de datos para entrenamiento del modelo, generación de la característica de la visualización de los resultados junto con una alerta mecanismo como un panel de supervisión de activos de generación y predicción. Queremos una canalización de datos que proporciona perspectivas futuras al usuario de forma automática continua. Una arquitectura de mantenimiento predictiva de ejemplo para dicha una canalización de datos IoT se muestra en la figura 8. En la arquitectura de telemetría en tiempo real se recopila a un concentrador de evento que almacena la transmisión de datos. Estos datos se ingestión por el análisis de flujo de proceso en tiempo real de datos, como la generación de la característica. Las funciones se utilizan para llamar al servicio web de modelo de predicción y se muestran los resultados en el panel. Al mismo tiempo, datos integrados también se almacenan en una base de datos histórica y combinan con orígenes de datos externos como datos local para crear ejemplos de formación para el modelado de bases de datos.
Mismo datawarehouses pueden utilizarse para lote de almacenamiento de los resultados que pueden utilizarse nuevamente para proporcionar informes predictivos en el panel y la puntuación de los ejemplos.

![Figura 8. Arquitectura de la solución de ejemplo para realizar el mantenimiento predictivo](media/cortana-analytics-playbook-predictive-maintenance/example-solution-architecture-for-predictive-maintenance.png)

Figura 8. Arquitectura de la solución de ejemplo para realizar el mantenimiento predictivo

Para obtener más información acerca de cada uno de los componentes de la arquitectura, consulte la documentación de [Azure](https://azure.microsoft.com/) .
